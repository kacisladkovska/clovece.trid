<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<title>ÄŒlovÄ›Äe, tÅ™iÄ!</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #eef2f3;
  text-align: center;
}

#board {
  display: grid;
  grid-template-columns: repeat(11, 50px);
  grid-template-rows: repeat(11, 50px);
  gap: 4px;
  margin: 20px auto;
}

.cell {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  border: 2px solid #333;
  position: relative;
  background: white;
}

.start-yellow { background:#f1c40f; }
.start-blue { background:#3498db; }
.start-green { background:#2ecc71; }
.start-brown { background:#8e5a2a; }

.piece {
  width: 16px;
  height: 16px;
  border-radius: 50%;
  position: absolute;
}

.yellow { background:#f1c40f; }
.blue { background:#3498db; }
.green { background:#2ecc71; }
.brown { background:#8e5a2a; }

.controls {
  margin-top: 20px;
}
</style>
</head>

<body>

<h1>ÄŒlovÄ›Äe, tÅ™iÄ!</h1>

<div id="board"></div>

<div class="controls">
  <p>Na tahu: <b id="playerTurn"></b></p>
  <button onclick="rollDice()">ğŸ² Hod kostkou</button>
  <p id="dice"></p>
</div>

<script>
/* ====== HERNÃ DATA ====== */

const players = ["yellow","blue","green","brown"];
let currentPlayer = 0;
let diceValue = 0;

// zjednoduÅ¡enÃ¡ trasa (indexy bunÄ›k v gridu â€“ lze pozdÄ›ji pÅ™esnÄ› doladit)
const path = [
  60,61,62,63,64,65,54,43,32,21,
  10,11,12,13,14,15,26,37,48,59,
  70,71,72,73,74,75,76,65,54,43,
  32,31,30,29,28,27,36,45,54,63
];

// figurky
let pieces = {};
players.forEach(p => {
  pieces[p] = [-1,-1,-1,-1];
});

/* ====== VYKRESLENÃ ====== */

const board = document.getElementById("board");
for(let i=0;i<121;i++){
  const c = document.createElement("div");
  c.className = "cell";
  board.appendChild(c);
}

function render(){
  document.querySelectorAll(".piece").forEach(p=>p.remove());

  players.forEach(color=>{
    pieces[color].forEach(pos=>{
      if(pos>=0){
        const piece = document.createElement("div");
        piece.className = "piece "+color;
        piece.style.top = "2px";
        piece.style.left = "2px";
        board.children[path[pos]].appendChild(piece);
      }
    });
  });

  document.getElementById("playerTurn").innerText = players[currentPlayer];
}

render();

/* ====== LOGIKA HRY ====== */

function rollDice(){
  diceValue = Math.floor(Math.random()*6)+1;
  document.getElementById("dice").innerText = "Hodil/a jsi: "+diceValue;

  let playerColor = players[currentPlayer];
  let figs = pieces[playerColor];

  // vstup do hry
  let idx = figs.findIndex(f=>f===-1);
  if(idx !== -1){
    figs[idx] = diceValue;
  } else {
    figs[0] += diceValue;
    if(figs[0] >= path.length){
      figs[0] = path.length-1;
    }
  }

  currentPlayer = (currentPlayer+1)%4;
  render();
}
</script>

</body>
</html>
